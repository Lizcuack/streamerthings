var CircularProgressBar=function(){"use strict";const t={colorCircle:"",colorSlice:"#00a1ff",end:264,fontColor:"#000",fontSize:"1.6rem",fontWeight:400,lineargradient:!1,number:!0,round:!1,fill:"none",unit:"%",rotation:-90,opacity:10,size:200,stroke:10};return class{constructor(e){this.initial=t=>{const e=t||this.elements;Array.isArray(e)?e.map((t=>this.elSVG(t))):this.elSVG(e)},this.progress=(t,e,r)=>{r.number&&t.insertAdjacentElement("beforeend",this.percent(r));const i=document.querySelector(`.${this.pieName}-circle-${r.index}`),n={fill:"none","stroke-width":r.stroke,"stroke-dasharray":"264","stroke-dashoffset":r.inverse?"-264":"264","stroke-linecap":r.round?"round":""};this.attr(i,n),this.animationTo({...r,element:i},!0);const s=r.animationSmooth?"transition: stroke-dashoffset "+r.animationSmooth:"";i.setAttribute("style",`transform:rotate(${r.rotation}deg);transform-origin: 50% 50%;${s}`),this.color(i,r),e.setAttribute("style",`width:${r.size}px;height:${r.size}px;`)},this.color=(t,{lineargradient:e,index:r,colorSlice:i})=>{t.setAttribute("stroke",e?`url(#linear-${r})`:i)},this.dashOffset=(t,e,r)=>{const i=264-t/100*(r?2.64*(100-r):264);return e?-i:i},this.animationTo=(e,r=!1)=>{const i=this.pieName,n=JSON.parse(document.querySelector(`[data-pie-index="${e.index}"]`).getAttribute("data-pie")),s=document.querySelector(`.${i}-circle-${e.index}`);if(!s)return;const o=r?e:{...t,...n,...e};if(r||this.color(s,o),!r&&o.number){const t={fill:o.fontColor,"font-size":o.fontSize,"font-weight":o.fontWeight},e=document.querySelector(`.${i}-text-${o.index}`);this.attr(e,t)}const a=document.querySelector(`.${i}-percent-${e.index}`);if(o.animationOff)return o.number&&(a.textContent=""+o.percent),void s.setAttribute("stroke-dashoffset",this.dashOffset(o.percent,o.inverse));let c=JSON.parse(s.getAttribute("data-angel"));const l=Math.round(e.percent);if(0==l&&(o.number&&(a.textContent="0"),s.setAttribute("stroke-dashoffset","264")),l>100||l<=0||c===l)return;let d,h=r?0:c;const u=1e3/(o.speed||1e3);let f=performance.now();const p=t=>{d=requestAnimationFrame(p);const e=t-f;e>=u-.1&&(f=t-e%u,c>=o.percent?h--:h++),s.setAttribute("stroke-dashoffset",this.dashOffset(h,o.inverse,o.cut)),a&&o.number&&(a.textContent=""+h),s.setAttribute("data-angel",h),s.parentNode.setAttribute("aria-valuenow",h),h===l&&cancelAnimationFrame(d)};requestAnimationFrame(p)},this.percent=t=>{const e=this.pieName,r=this.creNS("text");r.classList.add(`${e}-text-${t.index}`),r.insertAdjacentElement("afterbegin",this.tspan(`${e}-percent-${t.index}`)),r.insertAdjacentElement("beforeend",this.tspan(`${e}-unit-${t.index}`,t.unit));const i={x:"50%",y:"50%",fill:t.fontColor,"font-size":t.fontSize,"font-weight":t.fontWeight,"text-anchor":"middle",dy:t.textPosition||"0.35em"};return this.attr(r,i),r},this.tspan=(t,e)=>{const r=this.creNS("tspan");return r.classList.add(t),e&&(r.textContent=e),r},this.elSVG=e=>{const r=e.getAttribute("data-pie-index"),i=JSON.parse(e.getAttribute("data-pie")),n={...t,...i,index:r},s=this.creNS("svg"),o={role:"progressbar",width:n.size,height:n.size,viewBox:"0 0 100 100","aria-valuemin":"0","aria-valuemax":"100"};this.attr(s,o),n.colorCircle&&s.appendChild(this.circle(n,"bottom")),n.lineargradient&&s.appendChild(this.gradient(n)),s.appendChild(this.circle(n,"top")),e.appendChild(s),this.progress(s,e,n)},this.gradient=({index:t,lineargradient:e})=>{const r=this.creNS("defs"),i=this.creNS("linearGradient");i.id="linear-"+t;const n=[].slice.call(e);r.appendChild(i);let s=0;return n.map((t=>{const e=this.creNS("stop"),r={offset:s+"%","stop-color":""+t};this.attr(e,r),i.appendChild(e),s+=100/(n.length-1)})),r},this.circle=(t,e)=>{const r=this.creNS("circle");let i={};if(t.cut){const e=264-2.64*(100-t.cut);i={"stroke-dasharray":"264","stroke-linecap":t.round?"round":"","stroke-dashoffset":t.inverse?-e:e,style:`transform:rotate(${t.rotation}deg);transform-origin: 50% 50%`}}const n={fill:t.fill,stroke:t.colorCircle,"stroke-width":t.strokeBottom||t.stroke,...i};t.strokeDasharray&&Object.assign(n,{"stroke-dasharray":t.strokeDasharray});const s={cx:"50%",cy:"50%",r:42,"shape-rendering":"geometricPrecision",..."top"===e?{class:`${this.pieName}-circle-${t.index}`}:n};return this.attr(r,s),r},this.creNS=t=>document.createElementNS("http://www.w3.org/2000/svg",t),this.attr=(t,e)=>{for(const r in e)null==t||t.setAttribute(r,e[r])},this.pieName=e;const r=document.querySelectorAll("."+e),i=[].slice.call(r);i.map(((t,e)=>{t.setAttribute("data-pie-index",e+1)})),this.elements=i}}}();
